---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import CaseCard from '../../components/CaseCard.astro';
import { getLangFromUrl, useTranslations } from '../../utils/i18n';
import { languages } from '../../i18n/ui';

interface CaseStudy {
  title: string;
  company: string;
  description: string;
  results: string[];
  image: string;
}

export function getStaticPaths() {
  return Object.keys(languages).map(lang => ({ params: { lang } }));
}

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const successCases: CaseStudy[] = [];
---

<Layout 
  title={t('cases.page.title')}
  description={t('cases.page.description')}
>
  <Header />
  <main class="pt-20">
    <section class="py-20">
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto">
          <div class="text-center mb-16">
            <h1 class="text-4xl md:text-5xl font-poppins font-bold gradient-text mb-4">
              {t('cases.page.heading')}
            </h1>
            <p class="text-lg text-white/80">
              {t('cases.page.subtitle')}
            </p>
          </div>

          <div class="grid md:grid-cols-2 gap-8">
            {successCases.map(caseStudy => (
              <CaseCard {...caseStudy} />
            ))}
          </div>

          <div class="text-center mt-16">
            <h2 class="text-2xl font-poppins font-semibold text-white mb-6">
              {t('cases.cta.title')}
            </h2>
            <a 
              href={`/${lang}/contacto`}
              class="inline-block glow-effect bg-gradient-to-r from-secondary to-accent text-white px-8 py-3 rounded-lg transition-all hover:scale-105"
            >
              {t('cta.consultation')}
            </a>
          </div>
        </div>
      </div>
    </section>
  </main>
</Layout>