---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import ContactForm from '../../components/ContactForm.astro';
import { getLangFromUrl, useTranslations } from '../../utils/i18n';
import { languages } from '../../i18n/ui';

export function getStaticPaths() {
  return Object.keys(languages).map(lang => ({ params: { lang } }));
}

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Layout 
  title={t('contact.page.title')}
  description={t('contact.page.description')}
>
  <Header />
  <main class="pt-20">
    <section class="py-20">
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto">
          <div class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-poppins font-bold gradient-text mb-4">
              {t('contact.page.heading')}
            </h1>
            <p class="text-lg text-white/80">
              {t('contact.page.subtitle')}
            </p>
          </div>

          <div class="grid md:grid-cols-2 gap-12">
            <div class="glass p-8 rounded-lg">
              <h2 class="text-2xl font-poppins font-semibold text-white mb-6">
                {t('contact.info.title')}
              </h2>
              <div class="space-y-6">
                <div>
                  <h3 class="font-semibold text-accent mb-2">{t('contact.info.phone')}</h3>
                  <a 
                    href="tel:+351913139933"
                    class="text-white/80 hover:text-accent transition-colors"
                  >
                    +351 913 139 933
                  </a>
                </div>
                <div>
                  <h3 class="font-semibold text-accent mb-2">{t('contact.info.email')}</h3>
                  <a 
                    href="mailto:templarai.tmr@gmail.com"
                    class="text-white/80 hover:text-accent transition-colors"
                  >
                    templarai.tmr@gmail.com
                  </a>
                </div>
                <div>
                  <h3 class="font-semibold text-accent mb-2">{t('contact.info.hours')}</h3>
                  <p class="text-white/80">
                    {t('contact.info.weekdays')}<br>
                    {t('contact.info.saturday')}
                  </p>
                </div>
              </div>
            </div>

            <div class="glass p-8 rounded-lg">
              <h2 class="text-2xl font-poppins font-semibold text-white mb-6">
                {t('contact.form.title')}
              </h2>
              <ContactForm />
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
</Layout>