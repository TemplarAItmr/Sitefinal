---
import { getLangFromUrl, useTranslations } from '../utils/i18n';

interface Props {
  title: string;
  description: string;
  date: string;
  link: string;
  image: string;
}

const { title, description, date, link, image } = Astro.props;
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<article class="glass rounded-lg overflow-hidden hover:scale-105 transition-transform duration-300">
  <a href={link} target="_blank" rel="noopener noreferrer">
    <img 
      src={image} 
      alt={title} 
      class="w-full h-48 object-cover"
      loading="lazy"
    />
  </a>
  <div class="p-6">
    <div class="flex items-center gap-4 mb-3">
      <span class="text-sm text-white/60">{date}</span>
    </div>
    <h3 class="text-xl font-poppins font-semibold text-white mb-2">
      <a 
        href={link} 
        target="_blank" 
        rel="noopener noreferrer"
        class="hover:text-accent transition-colors"
      >
        {title}
      </a>
    </h3>
    <p class="text-white/80 mb-4">{description}</p>
    <a 
      href={link}
      target="_blank" 
      rel="noopener noreferrer"
      class="text-accent hover:text-white transition-colors font-semibold inline-flex items-center gap-2"
    >
      {t('blog.readmore')}
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
      </svg>
    </a>
  </div>
</article>